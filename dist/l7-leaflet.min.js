!(function (t, e) {
  if ('object' == typeof exports && 'object' == typeof module)
    module.exports = e(require('L'), require('L7'));
  else if ('function' == typeof define && define.amd) define(['L', 'L7'], e);
  else {
    var r = 'object' == typeof exports ? e(require('L'), require('L7')) : e(t.L, t.L7);
    for (var n in r) ('object' == typeof exports ? exports : t)[n] = r[n];
  }
})(self, function (t, e) {
  return (function () {
    var r = {
        787: function (e) {
          'use strict';
          e.exports = t;
        },
        389: function (t) {
          'use strict';
          t.exports = e;
        },
        734: function (t) {
          (t.exports = function (t) {
            if (void 0 === t)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t;
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        142: function (t) {
          function e(t, e, r, n, o, i, a) {
            try {
              var s = t[i](a),
                u = s.value;
            } catch (t) {
              return void r(t);
            }
            s.done ? e(u) : Promise.resolve(u).then(n, o);
          }
          (t.exports = function (t) {
            return function () {
              var r = this,
                n = arguments;
              return new Promise(function (o, i) {
                var a = t.apply(r, n);
                function s(t) {
                  e(a, o, i, s, u, 'next', t);
                }
                function u(t) {
                  e(a, o, i, s, u, 'throw', t);
                }
                s(void 0);
              });
            };
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        510: function (t) {
          (t.exports = function (t, e) {
            if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function');
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        834: function (t, e, r) {
          var n = r(63);
          function o(t, e) {
            for (var r = 0; r < e.length; r++) {
              var o = e[r];
              (o.enumerable = o.enumerable || !1),
                (o.configurable = !0),
                'value' in o && (o.writable = !0),
                Object.defineProperty(t, n(o.key), o);
            }
          }
          (t.exports = function (t, e, r) {
            return (
              e && o(t.prototype, e),
              r && o(t, r),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              t
            );
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        865: function (t, e, r) {
          var n = r(884),
            o = r(526),
            i = r(641);
          (t.exports = function (t) {
            var e = o();
            return function () {
              var r,
                o = n(t);
              if (e) {
                var a = n(this).constructor;
                r = Reflect.construct(o, arguments, a);
              } else r = o.apply(this, arguments);
              return i(this, r);
            };
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        521: function (t, e, r) {
          var n = r(63);
          (t.exports = function (t, e, r) {
            return (
              (e = n(e)) in t
                ? Object.defineProperty(t, e, {
                    value: r,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = r),
              t
            );
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        884: function (t) {
          function e(r) {
            return (
              (t.exports = e =
                Object.setPrototypeOf
                  ? Object.getPrototypeOf.bind()
                  : function (t) {
                      return t.__proto__ || Object.getPrototypeOf(t);
                    }),
              (t.exports.__esModule = !0),
              (t.exports.default = t.exports),
              e(r)
            );
          }
          (t.exports = e), (t.exports.__esModule = !0), (t.exports.default = t.exports);
        },
        564: function (t, e, r) {
          var n = r(975);
          (t.exports = function (t, e) {
            if ('function' != typeof e && null !== e)
              throw new TypeError('Super expression must either be null or a function');
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, 'prototype', { writable: !1 }),
              e && n(t, e);
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        526: function (t) {
          (t.exports = function () {
            if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ('function' == typeof Proxy) return !0;
            try {
              return (
                Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0
              );
            } catch (t) {
              return !1;
            }
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        124: function (t, e, r) {
          var n = r(521);
          function o(t, e) {
            var r = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var n = Object.getOwnPropertySymbols(t);
              e &&
                (n = n.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                r.push.apply(r, n);
            }
            return r;
          }
          (t.exports = function (t) {
            for (var e = 1; e < arguments.length; e++) {
              var r = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? o(Object(r), !0).forEach(function (e) {
                    n(t, e, r[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r))
                : o(Object(r)).forEach(function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(r, e));
                  });
            }
            return t;
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        767: function (t, e, r) {
          var n = r(846);
          (t.exports = function (t, e) {
            if (null == t) return {};
            var r,
              o,
              i = n(t, e);
            if (Object.getOwnPropertySymbols) {
              var a = Object.getOwnPropertySymbols(t);
              for (o = 0; o < a.length; o++)
                (r = a[o]),
                  e.indexOf(r) >= 0 ||
                    (Object.prototype.propertyIsEnumerable.call(t, r) && (i[r] = t[r]));
            }
            return i;
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        846: function (t) {
          (t.exports = function (t, e) {
            if (null == t) return {};
            var r,
              n,
              o = {},
              i = Object.keys(t);
            for (n = 0; n < i.length; n++) (r = i[n]), e.indexOf(r) >= 0 || (o[r] = t[r]);
            return o;
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        641: function (t, e, r) {
          var n = r(888).default,
            o = r(734);
          (t.exports = function (t, e) {
            if (e && ('object' === n(e) || 'function' == typeof e)) return e;
            if (void 0 !== e)
              throw new TypeError('Derived constructors may only return object or undefined');
            return o(t);
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        271: function (t, e, r) {
          var n = r(888).default;
          function o() {
            'use strict';
            (t.exports = o =
              function () {
                return e;
              }),
              (t.exports.__esModule = !0),
              (t.exports.default = t.exports);
            var e = {},
              r = Object.prototype,
              i = r.hasOwnProperty,
              a =
                Object.defineProperty ||
                function (t, e, r) {
                  t[e] = r.value;
                },
              s = 'function' == typeof Symbol ? Symbol : {},
              u = s.iterator || '@@iterator',
              c = s.asyncIterator || '@@asyncIterator',
              p = s.toStringTag || '@@toStringTag';
            function l(t, e, r) {
              return (
                Object.defineProperty(t, e, {
                  value: r,
                  enumerable: !0,
                  configurable: !0,
                  writable: !0,
                }),
                t[e]
              );
            }
            try {
              l({}, '');
            } catch (t) {
              l = function (t, e, r) {
                return (t[e] = r);
              };
            }
            function f(t, e, r, n) {
              var o = e && e.prototype instanceof m ? e : m,
                i = Object.create(o.prototype),
                s = new M(n || []);
              return a(i, '_invoke', { value: j(t, r, s) }), i;
            }
            function h(t, e, r) {
              try {
                return { type: 'normal', arg: t.call(e, r) };
              } catch (t) {
                return { type: 'throw', arg: t };
              }
            }
            e.wrap = f;
            var d = {};
            function m() {}
            function v() {}
            function y() {}
            var g = {};
            l(g, u, function () {
              return this;
            });
            var x = Object.getPrototypeOf,
              b = x && x(x(L([])));
            b && b !== r && i.call(b, u) && (g = b);
            var w = (y.prototype = m.prototype = Object.create(g));
            function _(t) {
              ['next', 'throw', 'return'].forEach(function (e) {
                l(t, e, function (t) {
                  return this._invoke(e, t);
                });
              });
            }
            function O(t, e) {
              function r(o, a, s, u) {
                var c = h(t[o], t, a);
                if ('throw' !== c.type) {
                  var p = c.arg,
                    l = p.value;
                  return l && 'object' == n(l) && i.call(l, '__await')
                    ? e.resolve(l.__await).then(
                        function (t) {
                          r('next', t, s, u);
                        },
                        function (t) {
                          r('throw', t, s, u);
                        },
                      )
                    : e.resolve(l).then(
                        function (t) {
                          (p.value = t), s(p);
                        },
                        function (t) {
                          return r('throw', t, s, u);
                        },
                      );
                }
                u(c.arg);
              }
              var o;
              a(this, '_invoke', {
                value: function (t, n) {
                  function i() {
                    return new e(function (e, o) {
                      r(t, n, e, o);
                    });
                  }
                  return (o = o ? o.then(i, i) : i());
                },
              });
            }
            function j(t, e, r) {
              var n = 'suspendedStart';
              return function (o, i) {
                if ('executing' === n) throw new Error('Generator is already running');
                if ('completed' === n) {
                  if ('throw' === o) throw i;
                  return k();
                }
                for (r.method = o, r.arg = i; ; ) {
                  var a = r.delegate;
                  if (a) {
                    var s = P(a, r);
                    if (s) {
                      if (s === d) continue;
                      return s;
                    }
                  }
                  if ('next' === r.method) r.sent = r._sent = r.arg;
                  else if ('throw' === r.method) {
                    if ('suspendedStart' === n) throw ((n = 'completed'), r.arg);
                    r.dispatchException(r.arg);
                  } else 'return' === r.method && r.abrupt('return', r.arg);
                  n = 'executing';
                  var u = h(t, e, r);
                  if ('normal' === u.type) {
                    if (((n = r.done ? 'completed' : 'suspendedYield'), u.arg === d)) continue;
                    return { value: u.arg, done: r.done };
                  }
                  'throw' === u.type && ((n = 'completed'), (r.method = 'throw'), (r.arg = u.arg));
                }
              };
            }
            function P(t, e) {
              var r = e.method,
                n = t.iterator[r];
              if (void 0 === n)
                return (
                  (e.delegate = null),
                  ('throw' === r &&
                    t.iterator.return &&
                    ((e.method = 'return'), (e.arg = void 0), P(t, e), 'throw' === e.method)) ||
                    ('return' !== r &&
                      ((e.method = 'throw'),
                      (e.arg = new TypeError(
                        "The iterator does not provide a '" + r + "' method",
                      )))),
                  d
                );
              var o = h(n, t.iterator, e.arg);
              if ('throw' === o.type)
                return (e.method = 'throw'), (e.arg = o.arg), (e.delegate = null), d;
              var i = o.arg;
              return i
                ? i.done
                  ? ((e[t.resultName] = i.value),
                    (e.next = t.nextLoc),
                    'return' !== e.method && ((e.method = 'next'), (e.arg = void 0)),
                    (e.delegate = null),
                    d)
                  : i
                : ((e.method = 'throw'),
                  (e.arg = new TypeError('iterator result is not an object')),
                  (e.delegate = null),
                  d);
            }
            function C(t) {
              var e = { tryLoc: t[0] };
              1 in t && (e.catchLoc = t[1]),
                2 in t && ((e.finallyLoc = t[2]), (e.afterLoc = t[3])),
                this.tryEntries.push(e);
            }
            function S(t) {
              var e = t.completion || {};
              (e.type = 'normal'), delete e.arg, (t.completion = e);
            }
            function M(t) {
              (this.tryEntries = [{ tryLoc: 'root' }]), t.forEach(C, this), this.reset(!0);
            }
            function L(t) {
              if (t) {
                var e = t[u];
                if (e) return e.call(t);
                if ('function' == typeof t.next) return t;
                if (!isNaN(t.length)) {
                  var r = -1,
                    n = function e() {
                      for (; ++r < t.length; )
                        if (i.call(t, r)) return (e.value = t[r]), (e.done = !1), e;
                      return (e.value = void 0), (e.done = !0), e;
                    };
                  return (n.next = n);
                }
              }
              return { next: k };
            }
            function k() {
              return { value: void 0, done: !0 };
            }
            return (
              (v.prototype = y),
              a(w, 'constructor', { value: y, configurable: !0 }),
              a(y, 'constructor', { value: v, configurable: !0 }),
              (v.displayName = l(y, p, 'GeneratorFunction')),
              (e.isGeneratorFunction = function (t) {
                var e = 'function' == typeof t && t.constructor;
                return !!e && (e === v || 'GeneratorFunction' === (e.displayName || e.name));
              }),
              (e.mark = function (t) {
                return (
                  Object.setPrototypeOf
                    ? Object.setPrototypeOf(t, y)
                    : ((t.__proto__ = y), l(t, p, 'GeneratorFunction')),
                  (t.prototype = Object.create(w)),
                  t
                );
              }),
              (e.awrap = function (t) {
                return { __await: t };
              }),
              _(O.prototype),
              l(O.prototype, c, function () {
                return this;
              }),
              (e.AsyncIterator = O),
              (e.async = function (t, r, n, o, i) {
                void 0 === i && (i = Promise);
                var a = new O(f(t, r, n, o), i);
                return e.isGeneratorFunction(r)
                  ? a
                  : a.next().then(function (t) {
                      return t.done ? t.value : a.next();
                    });
              }),
              _(w),
              l(w, p, 'Generator'),
              l(w, u, function () {
                return this;
              }),
              l(w, 'toString', function () {
                return '[object Generator]';
              }),
              (e.keys = function (t) {
                var e = Object(t),
                  r = [];
                for (var n in e) r.push(n);
                return (
                  r.reverse(),
                  function t() {
                    for (; r.length; ) {
                      var n = r.pop();
                      if (n in e) return (t.value = n), (t.done = !1), t;
                    }
                    return (t.done = !0), t;
                  }
                );
              }),
              (e.values = L),
              (M.prototype = {
                constructor: M,
                reset: function (t) {
                  if (
                    ((this.prev = 0),
                    (this.next = 0),
                    (this.sent = this._sent = void 0),
                    (this.done = !1),
                    (this.delegate = null),
                    (this.method = 'next'),
                    (this.arg = void 0),
                    this.tryEntries.forEach(S),
                    !t)
                  )
                    for (var e in this)
                      't' === e.charAt(0) &&
                        i.call(this, e) &&
                        !isNaN(+e.slice(1)) &&
                        (this[e] = void 0);
                },
                stop: function () {
                  this.done = !0;
                  var t = this.tryEntries[0].completion;
                  if ('throw' === t.type) throw t.arg;
                  return this.rval;
                },
                dispatchException: function (t) {
                  if (this.done) throw t;
                  var e = this;
                  function r(r, n) {
                    return (
                      (a.type = 'throw'),
                      (a.arg = t),
                      (e.next = r),
                      n && ((e.method = 'next'), (e.arg = void 0)),
                      !!n
                    );
                  }
                  for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                    var o = this.tryEntries[n],
                      a = o.completion;
                    if ('root' === o.tryLoc) return r('end');
                    if (o.tryLoc <= this.prev) {
                      var s = i.call(o, 'catchLoc'),
                        u = i.call(o, 'finallyLoc');
                      if (s && u) {
                        if (this.prev < o.catchLoc) return r(o.catchLoc, !0);
                        if (this.prev < o.finallyLoc) return r(o.finallyLoc);
                      } else if (s) {
                        if (this.prev < o.catchLoc) return r(o.catchLoc, !0);
                      } else {
                        if (!u) throw new Error('try statement without catch or finally');
                        if (this.prev < o.finallyLoc) return r(o.finallyLoc);
                      }
                    }
                  }
                },
                abrupt: function (t, e) {
                  for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                    var n = this.tryEntries[r];
                    if (
                      n.tryLoc <= this.prev &&
                      i.call(n, 'finallyLoc') &&
                      this.prev < n.finallyLoc
                    ) {
                      var o = n;
                      break;
                    }
                  }
                  o &&
                    ('break' === t || 'continue' === t) &&
                    o.tryLoc <= e &&
                    e <= o.finallyLoc &&
                    (o = null);
                  var a = o ? o.completion : {};
                  return (
                    (a.type = t),
                    (a.arg = e),
                    o ? ((this.method = 'next'), (this.next = o.finallyLoc), d) : this.complete(a)
                  );
                },
                complete: function (t, e) {
                  if ('throw' === t.type) throw t.arg;
                  return (
                    'break' === t.type || 'continue' === t.type
                      ? (this.next = t.arg)
                      : 'return' === t.type
                      ? ((this.rval = this.arg = t.arg),
                        (this.method = 'return'),
                        (this.next = 'end'))
                      : 'normal' === t.type && e && (this.next = e),
                    d
                  );
                },
                finish: function (t) {
                  for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var r = this.tryEntries[e];
                    if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), S(r), d;
                  }
                },
                catch: function (t) {
                  for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var r = this.tryEntries[e];
                    if (r.tryLoc === t) {
                      var n = r.completion;
                      if ('throw' === n.type) {
                        var o = n.arg;
                        S(r);
                      }
                      return o;
                    }
                  }
                  throw new Error('illegal catch attempt');
                },
                delegateYield: function (t, e, r) {
                  return (
                    (this.delegate = { iterator: L(t), resultName: e, nextLoc: r }),
                    'next' === this.method && (this.arg = void 0),
                    d
                  );
                },
              }),
              e
            );
          }
          (t.exports = o), (t.exports.__esModule = !0), (t.exports.default = t.exports);
        },
        975: function (t) {
          function e(r, n) {
            return (
              (t.exports = e =
                Object.setPrototypeOf
                  ? Object.setPrototypeOf.bind()
                  : function (t, e) {
                      return (t.__proto__ = e), t;
                    }),
              (t.exports.__esModule = !0),
              (t.exports.default = t.exports),
              e(r, n)
            );
          }
          (t.exports = e), (t.exports.__esModule = !0), (t.exports.default = t.exports);
        },
        92: function (t, e, r) {
          var n = r(888).default;
          (t.exports = function (t, e) {
            if ('object' !== n(t) || null === t) return t;
            var r = t[Symbol.toPrimitive];
            if (void 0 !== r) {
              var o = r.call(t, e || 'default');
              if ('object' !== n(o)) return o;
              throw new TypeError('@@toPrimitive must return a primitive value.');
            }
            return ('string' === e ? String : Number)(t);
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        63: function (t, e, r) {
          var n = r(888).default,
            o = r(92);
          (t.exports = function (t) {
            var e = o(t, 'string');
            return 'symbol' === n(e) ? e : String(e);
          }),
            (t.exports.__esModule = !0),
            (t.exports.default = t.exports);
        },
        888: function (t) {
          function e(r) {
            return (
              (t.exports = e =
                'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                  ? function (t) {
                      return typeof t;
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : typeof t;
                    }),
              (t.exports.__esModule = !0),
              (t.exports.default = t.exports),
              e(r)
            );
          }
          (t.exports = e), (t.exports.__esModule = !0), (t.exports.default = t.exports);
        },
      },
      n = {};
    function o(t) {
      var e = n[t];
      if (void 0 !== e) return e.exports;
      var i = (n[t] = { exports: {} });
      return r[t](i, i.exports, o), i.exports;
    }
    (o.n = function (t) {
      var e =
        t && t.__esModule
          ? function () {
              return t.default;
            }
          : function () {
              return t;
            };
      return o.d(e, { a: e }), e;
    }),
      (o.d = function (t, e) {
        for (var r in e)
          o.o(e, r) && !o.o(t, r) && Object.defineProperty(t, r, { enumerable: !0, get: e[r] });
      }),
      (o.o = function (t, e) {
        return Object.prototype.hasOwnProperty.call(t, e);
      }),
      (o.r = function (t) {
        'undefined' != typeof Symbol &&
          Symbol.toStringTag &&
          Object.defineProperty(t, Symbol.toStringTag, { value: 'Module' }),
          Object.defineProperty(t, '__esModule', { value: !0 });
      });
    var i = {};
    return (
      (function () {
        'use strict';
        o.r(i),
          o.d(i, {
            L7Layer: function () {
              return M;
            },
            Map: function () {
              return C;
            },
          });
        var t = o(510),
          e = o.n(t),
          r = o(834),
          n = o.n(r),
          a = o(564),
          s = o.n(a),
          u = o(865),
          c = o.n(u),
          p = o(389),
          l = o(271),
          f = o.n(l),
          h = o(124),
          d = o.n(h),
          m = o(767),
          v = o.n(m),
          y = o(142),
          g = o.n(y),
          x = o(734),
          b = o.n(x),
          w = o(521),
          _ = o.n(w),
          O = o(787),
          j = ['id', 'style', 'rotation', 'mapInstance', 'version', 'mapSize'],
          P = (function (t) {
            s()(i, t);
            var r,
              o = c()(i);
            function i() {
              var t;
              e()(this, i);
              for (var r = arguments.length, n = new Array(r), a = 0; a < r; a++)
                n[a] = arguments[a];
              return (
                (t = o.call.apply(o, [this].concat(n))),
                _()(b()(t), 'map', void 0),
                _()(b()(t), 'viewport', void 0),
                _()(b()(t), 'sceneContainer', void 0),
                _()(b()(t), 'handleCameraChanged', function (e) {
                  var r = t.map.getCenter(),
                    n = r.lat,
                    o = r.lng,
                    i = t.map.getSize(),
                    a = i.x,
                    s = i.y;
                  t.viewport.syncWithMapCamera({
                    bearing: 0,
                    center: [o, n],
                    viewportHeight: s,
                    pitch: 0,
                    viewportWidth: a,
                    zoom: t.map.getZoom() - 1,
                    cameraHeight: 0,
                  }),
                    t.updateCoordinateSystemService(),
                    t.cameraChangedCallback(t.viewport);
                }),
                t
              );
            }
            return (
              n()(i, [
                {
                  key: 'lngLatToMercator',
                  value: function (t, e) {
                    throw new Error('Method not implemented.');
                  },
                },
                {
                  key: 'getModelMatrix',
                  value: function (t, e, r, n, o) {
                    throw new Error('Method not implemented.');
                  },
                },
                {
                  key: 'init',
                  value:
                    ((r = g()(
                      f()().mark(function t() {
                        var e, r, n, o, i, a;
                        return f()().wrap(
                          function (t) {
                            for (;;)
                              switch ((t.prev = t.next)) {
                                case 0:
                                  (e = this.config),
                                    (r = e.id),
                                    (n = void 0 === r ? 'map' : r),
                                    e.style,
                                    e.rotation,
                                    (o = e.mapInstance),
                                    e.version,
                                    e.mapSize,
                                    (i = v()(e, j)),
                                    (this.viewport = new p.Viewport()),
                                    o
                                      ? ((this.map = o),
                                        (this.$mapContainer = this.map.getContainer()))
                                      : ((this.$mapContainer = this.creatMapContainer(n)),
                                        (this.map = new O.Map(
                                          this.$mapContainer,
                                          d()(
                                            d()({ zoomSnap: 0, zoomAnimation: !0 }, i),
                                            {},
                                            {
                                              center:
                                                null === (a = i.center) || void 0 === a
                                                  ? void 0
                                                  : a.reverse(),
                                            },
                                          ),
                                        ))),
                                    O.DomUtil.addClass(this.$mapContainer, 'leaflet-zoom-anim'),
                                    this.map.on('zoomanim', this.onAnimZoom.bind(this)),
                                    this.map.on('moveend', this.update.bind(this)),
                                    this.handleCameraChanged();
                                case 7:
                                case 'end':
                                  return t.stop();
                              }
                          },
                          t,
                          this,
                        );
                      }),
                    )),
                    function () {
                      return r.apply(this, arguments);
                    }),
                },
                {
                  key: 'addMarkerContainer',
                  value: function () {
                    this.markerContainer = this.map.getPane('markerPane');
                  },
                },
                {
                  key: 'getOverlayContainer',
                  value: function () {
                    var t = this.map.getPane('overlayPane'),
                      e = O.DomUtil.create('div');
                    t.appendChild(e), (e.className = 'leaflet-layer');
                    var r = this.map.getSize();
                    return (
                      (e.style.width = ''.concat(r.x, 'px')),
                      (e.style.height = ''.concat(r.y, 'px')),
                      this.map._zoomAnimated && O.DomUtil.addClass(e, 'leaflet-zoom-animated'),
                      (this.sceneContainer = e),
                      e
                    );
                  },
                },
                {
                  key: 'update',
                  value: function () {
                    if (!this.map._animatingZoom) {
                      var t = this.map.getSize();
                      (this.sceneContainer.style.width = ''.concat(t.x, 'px')),
                        (this.sceneContainer.style.height = ''.concat(t.y, 'px'));
                      var e = this.map._getMapPanePos().multiplyBy(-1);
                      O.DomUtil.removeClass(this.sceneContainer, 'leaflet-zoom-animated'),
                        O.DomUtil.setPosition(this.sceneContainer, e),
                        this.handleCameraChanged();
                    }
                  },
                },
                {
                  key: 'onAnimZoom',
                  value: function (t) {
                    this.map._zoomAnimated &&
                      O.DomUtil.addClass(this.sceneContainer, 'leaflet-zoom-animated'),
                      this.updateTransform(t.center, t.zoom);
                  },
                },
                {
                  key: 'updateTransform',
                  value: function (t, e) {
                    var r = this.sceneContainer,
                      n = this.map.getZoomScale(e, this.map.getZoom()),
                      o = O.DomUtil.getPosition(r),
                      i = this.map.getSize().multiplyBy(0.5),
                      a = this.map.project(this.map.getCenter(), e),
                      s = this.map.project(t, e).subtract(a),
                      u = i.multiplyBy(-n).add(o).add(i).subtract(s);
                    O.Browser.any3d ? O.DomUtil.setTransform(r, u, n) : O.DomUtil.setPosition(r, u);
                  },
                },
                {
                  key: 'onCameraChanged',
                  value: function (t) {
                    this.cameraChangedCallback = t;
                  },
                },
              ]),
              i
            );
          })(p.BaseMapService),
          C = (function (t) {
            s()(o, t);
            var r = c()(o);
            function o() {
              return e()(this, o), r.apply(this, arguments);
            }
            return (
              n()(o, [
                {
                  key: 'getServiceConstructor',
                  value: function () {
                    return P;
                  },
                },
              ]),
              o
            );
          })(p.BaseMapWrapper);
        function S(t) {
          return {
            longitude: t.getCenter().lng,
            latitude: t.getCenter().lat,
            zoom: t.getZoom() - 1,
            pitch: 0,
            bearing: 0,
          };
        }
        var M = (function (t) {
          s()(o, t);
          var r = c()(o);
          function o(t) {
            var n;
            return (
              e()(this, o),
              (n = r.call(this)),
              _()(b()(n), 'container', void 0),
              _()(b()(n), 'animate', void 0),
              _()(b()(n), 'props', void 0),
              _()(b()(n), 'scene', void 0),
              (n.props = t),
              n
            );
          }
          return (
            n()(o, [
              {
                key: 'getScene',
                value: function () {
                  return this.scene;
                },
              },
              {
                key: 'onAdd',
                value: function () {
                  (this.container = O.DomUtil.create('div')),
                    (this.container.className = 'leaflet-layer'),
                    this._zoomAnimated &&
                      O.DomUtil.addClass(this.container, 'leaflet-zoom-animated'),
                    this.getPane().appendChild(this.container);
                  var t = this._map.getSize();
                  return (
                    (this.container.style.width = ''.concat(t.x, 'px')),
                    (this.container.style.height = ''.concat(t.y, 'px')),
                    (this.scene = (function (t, e, r) {
                      if (!r) {
                        var n = S(t);
                        r = new p.Scene({
                          id: e,
                          map: new C({
                            pitchEnabled: !1,
                            rotateEnabled: !1,
                            interactive: !1,
                            center: [n.longitude, n.latitude],
                            zoom: n.zoom,
                            pitch: 0,
                            rotation: 0,
                            mapInstance: t,
                          }),
                        });
                      }
                      return r;
                    })(this._map, this.container, this.scene)),
                    this.update(),
                    this
                  );
                },
              },
              {
                key: 'onRemove',
                value: function (t) {
                  return O.DomUtil.remove(this.container), this;
                },
              },
              {
                key: 'getEvents',
                value: function () {
                  var t = { moveend: this.onMoveEnd, zoom: this.onZoom };
                  return this._zoomAnimated && (t.zoomanim = this.onAnimZoom), t;
                },
              },
              {
                key: 'update',
                value: function () {
                  if (!this._map._animatingZoom) {
                    var t = this._map.getSize();
                    (this.container.style.width = ''.concat(t.x, 'px')),
                      (this.container.style.height = ''.concat(t.y, 'px'));
                    var e = this._map._getMapPanePos().multiplyBy(-1);
                    O.DomUtil.setPosition(this.container, e),
                      (function (t, e) {
                        var r = S(e),
                          n = e.getSize();
                        t.getMapService().updateView({
                          viewportWidth: n.x,
                          viewportHeight: n.y,
                          center: [r.longitude, r.latitude],
                          zoom: r.zoom,
                        });
                      })(this.scene, this._map);
                  }
                },
              },
              {
                key: 'reset',
                value: function () {
                  this.updateTransform(this._map.getCenter(), this._map.getZoom()), this.update();
                },
              },
              {
                key: 'onMoveEnd',
                value: function () {
                  this.update();
                },
              },
              {
                key: 'onAnimZoom',
                value: function (t) {
                  this.updateTransform(t.center, t.zoom);
                },
              },
              {
                key: 'onZoom',
                value: function () {
                  this.updateTransform(this._map.getCenter(), this._map.getZoom());
                },
              },
              {
                key: 'updateTransform',
                value: function (t, e) {
                  var r = this._map.getZoomScale(e, this._map.getZoom()),
                    n = O.DomUtil.getPosition(this.container),
                    o = this._map.getSize().multiplyBy(0.5),
                    i = this._map.project(this._map.getCenter(), e),
                    a = this._map.project(t, e).subtract(i),
                    s = o.multiplyBy(-r).add(n).add(o).subtract(a);
                  O.Browser.any3d
                    ? O.DomUtil.setTransform(this.container, s, r)
                    : O.DomUtil.setPosition(this.container, s);
                },
              },
            ]),
            o
          );
        })(O.Layer);
      })(),
      i
    );
  })();
});
